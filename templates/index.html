{% extends "layout.html" %}

{% block title %}
    Start
{% endblock %}

{% block main %}
    <!--{% with messages = get_flashed_messages() %}-->
    <!--    {% if messages %}-->
    <!--        {% for msg in messages %}-->
                <!--<div class="alert alert-success alert-dismissible fade show" role="alert">-->
    <!--              {{ msg }}-->
    <!--            //   <script>-->
                <!--//     window.setTimeout(function () {-->
                <!--//         $(".alert-success").fadeTo(500, 0).slideUp(500, function () {-->
                <!--//             $(this).remove();-->
                <!--//         });-->
                <!--//     }, 3000);-->
                <!--//   </script>-->
                <!--// </div>-->
    <!--        {% endfor %}-->
    <!--    {% endif %}-->
    <!--{% endwith %}-->

    <!-- bar chart canvas element -->
    <div class="chartContainer">
        <canvas id="myChart" width="900" height="600"></canvas>


    <script>
        // Global parameters:
      // do not resize the chart canvas when its container does (keep at 600x400px)
      Chart.defaults.global.responsive = true;
      Chart.defaults.global.maintainAspectRatio = false;

      // define the chart data
      var data = {
            datasets: [{
                data: [{% for item in values %}
                        {{ item }},
                        {% endfor %}],

                backgroundColor: [{% for item in colors %}
                                    "{{ item }}",
                                    {% endfor %}]
            }],

            // These labels appear in the legend and in the tooltips when hovering different arcs
            labels: [{% for item in labels %}
                    "{{ item }}",
                    {% endfor %}]
        }
      var options = {
          title: {
              display: true,
              fontSize: 24,
              text: 'Moje koło życia'
          },

          legend: {

              labels: {

                  boxWidth: 50
              }
          }


      }
      // get chart canvas
      var ctx = document.getElementById("myChart").getContext("2d");

      // create the chart using the chart canvas
      var myChart = new Chart(ctx, {
        type: 'polarArea',
        data: data,
        options: options,
      });
    </script>
    </div>
{% endblock %}